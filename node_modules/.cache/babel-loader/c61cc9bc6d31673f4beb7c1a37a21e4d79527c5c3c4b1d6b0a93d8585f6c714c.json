{"ast":null,"code":"var _jsxFileName = \"/Users/nicholasgobert/Desktop/Apps/MOSimulator/src/features/simulation/SimulationForm.js\",\n  _s = $RefreshSig$();\n// MO Simulator 2/src/features/simulation/SimulationForm.js\n// OR MO Simulator 2/src/components/InputPanel/InputPanel.js\n\nimport React, { useState, useEffect, useRef } from 'react';\nimport { Box, Typography, TextField, Slider, Grid, InputAdornment, Card, CardContent, Tooltip, Button, Fade, useMediaQuery, styled } from '@mui/material';\nimport { useTheme } from '@mui/material/styles';\nimport { useLanguage } from '../../context/LanguageContext';\n// Correct the path based on your project structure\nimport PrinterInfoPopover from './components/PrinterInfoPopover';\n\n// Using SVG icons directly instead of emojis to match the design\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DimensionsIcon = () => /*#__PURE__*/_jsxDEV(\"svg\", {\n  width: \"24\",\n  height: \"24\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  xmlns: \"http://www.w3.org/2000/svg\",\n  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M5 5L9 9\",\n    stroke: \"currentColor\",\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M19 5L15 9\",\n    stroke: \"currentColor\",\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M5 19L9 15\",\n    stroke: \"currentColor\",\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M19 19L15 15\",\n    stroke: \"currentColor\",\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M5 5L3 3\",\n    stroke: \"currentColor\",\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M19 5L21 3\",\n    stroke: \"currentColor\",\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M5 19L3 21\",\n    stroke: \"currentColor\",\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M19 19L21 21\",\n    stroke: \"currentColor\",\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 27,\n  columnNumber: 3\n}, this);\n_c = DimensionsIcon;\nconst PriceIcon = () => /*#__PURE__*/_jsxDEV(\"svg\", {\n  width: \"24\",\n  height: \"24\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  xmlns: \"http://www.w3.org/2000/svg\",\n  children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n    cx: \"12\",\n    cy: \"12\",\n    r: \"9\",\n    stroke: \"currentColor\",\n    strokeWidth: \"2\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M12 7V17\",\n    stroke: \"currentColor\",\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M8 12H16\",\n    stroke: \"currentColor\",\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 40,\n  columnNumber: 3\n}, this);\n_c2 = PriceIcon;\nconst VolumeIcon = () => /*#__PURE__*/_jsxDEV(\"svg\", {\n  width: \"24\",\n  height: \"24\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  xmlns: \"http://www.w3.org/2000/svg\",\n  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M3 17H7V10H3V17Z\",\n    stroke: \"currentColor\",\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M10 17H14V3H10V17Z\",\n    stroke: \"currentColor\",\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M17 17H21V6H17V17Z\",\n    stroke: \"currentColor\",\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M3 21H21\",\n    stroke: \"currentColor\",\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 48,\n  columnNumber: 3\n}, this);\n_c3 = VolumeIcon;\nconst InfoIcon = () => /*#__PURE__*/_jsxDEV(\"svg\", {\n  width: \"24\",\n  height: \"24\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  xmlns: \"http://www.w3.org/2000/svg\",\n  children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n    cx: \"12\",\n    cy: \"12\",\n    r: \"10\",\n    stroke: \"currentColor\",\n    strokeWidth: \"2\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M12 16V12\",\n    stroke: \"currentColor\",\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n    cx: \"12\",\n    cy: \"8\",\n    r: \"1\",\n    fill: \"currentColor\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 57,\n  columnNumber: 3\n}, this);\n\n// Common button style to ensure consistency across all number controls\n_c4 = InfoIcon;\nconst NumberButton = styled(Button)(({\n  theme\n}) => ({\n  minWidth: '44px',\n  width: '44px',\n  height: '44px',\n  padding: 0,\n  borderRadius: '8px',\n  fontSize: '1.2rem',\n  fontWeight: '700',\n  color: '#666',\n  border: '1px solid rgba(0, 0, 0, 0.2)',\n  backgroundColor: '#f5f5f5',\n  '&:hover': {\n    backgroundColor: '#e0e0e0'\n  }\n}));\n\n// Common input style to ensure consistency across all number controls\n_c5 = NumberButton;\nconst NumberInput = styled(TextField)(({\n  theme\n}) => ({\n  flex: '1',\n  '& .MuiInputBase-root': {\n    height: '44px',\n    backgroundColor: '#fff'\n  },\n  '& .MuiOutlinedInput-input': {\n    textAlign: 'center',\n    fontSize: '1rem',\n    fontWeight: '500',\n    padding: '8px'\n  },\n  '& .MuiOutlinedInput-notchedOutline': {\n    borderColor: 'rgba(0, 0, 0, 0.2)',\n    borderRadius: '8px'\n  },\n  '& .MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-notchedOutline': {\n    borderColor: '#2471CC',\n    borderWidth: '1px'\n  },\n  '& input::-webkit-inner-spin-button, & input::-webkit-outer-spin-button': {\n    WebkitAppearance: 'none',\n    margin: 0\n  },\n  '& input[type=number]': {\n    MozAppearance: 'textfield'\n  }\n}));\n\n// Custom slider with enhanced visibility\n_c6 = NumberInput;\nconst VisibleSlider = styled(Slider)({\n  color: '#2471CC',\n  height: 8,\n  padding: '13px 0',\n  '& .MuiSlider-track': {\n    height: 8,\n    borderRadius: 4,\n    backgroundColor: '#2471CC'\n  },\n  '& .MuiSlider-rail': {\n    height: 8,\n    borderRadius: 4,\n    backgroundColor: '#d1d1d1'\n  },\n  '& .MuiSlider-thumb': {\n    height: 24,\n    width: 24,\n    backgroundColor: '#fff',\n    border: '2px solid #2471CC',\n    boxShadow: '0 2px 4px rgba(0,0,0,0.2)',\n    '&:focus, &:hover, &.Mui-active': {\n      boxShadow: '0 0 0 8px rgba(36, 113, 204, 0.2)'\n    }\n  }\n});\n\n/**\n * SimulationForm Component / InputPanel Component\n * Handles user inputs for the simulation with enhanced styling and improved aesthetics\n */\n_c7 = VisibleSlider;\nconst SimulationForm = ({\n  inputs,\n  onInputChange\n}) => {\n  _s();\n  // Or InputPanel\n  const theme = useTheme();\n  const {\n    t,\n    language\n  } = useLanguage(); // Now we get language from useLanguage\n  const isMobile = useMediaQuery(theme.breakpoints.down('sm')); // For responsive styling\n  const isExtraSmallMobile = useMediaQuery('(max-width:380px)');\n\n  // Local state for input values during editing\n  const [localInputs, setLocalInputs] = useState({});\n  const [isEditing, setIsEditing] = useState({});\n  const inputRefs = useRef({});\n  useEffect(() => {\n    // Initialize local inputs with parent values when they change\n    // Only update if not actively editing to preserve focus\n    Object.keys(inputs).forEach(key => {\n      if (!isEditing[key]) {\n        setLocalInputs(prev => ({\n          ...prev,\n          [key]: inputs[key]\n        }));\n      }\n    });\n  }, [inputs, isEditing]);\n  const [infoAnchorEl, setInfoAnchorEl] = useState(null);\n  const infoPopoverOpen = Boolean(infoAnchorEl);\n  const [editingDimension, setEditingDimension] = useState(null);\n  const [tempDimensionValue, setTempDimensionValue] = useState(\"\");\n  const handleInfoClick = event => {\n    setInfoAnchorEl(event.currentTarget);\n  };\n  const handleInfoClose = () => {\n    setInfoAnchorEl(null);\n  };\n\n  // This function will be passed to PrinterInfoPopover\n  // It calls the onInputChange from props, which ultimately updates the useSimulation hook\n  const handleInitialInvestmentChange = value => {\n    onInputChange('initialInvestment', value);\n  };\n\n  // Handle local input changes without triggering parent updates immediately\n  const handleLocalInputChange = (name, value) => {\n    setLocalInputs(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n\n  // Start editing a numeric input\n  const handleInputFocus = name => {\n    setIsEditing(prev => ({\n      ...prev,\n      [name]: true\n    }));\n\n    // Set initial local value if not set\n    if (localInputs[name] === undefined) {\n      setLocalInputs(prev => ({\n        ...prev,\n        [name]: inputs[name]\n      }));\n    }\n\n    // Select all text on focus for easy editing\n    if (inputRefs.current[name]) {\n      setTimeout(() => {\n        inputRefs.current[name].select();\n      }, 10);\n    }\n  };\n\n  // Commit changes to parent when done editing\n  const handleInputBlur = (name, min, max) => {\n    setIsEditing(prev => ({\n      ...prev,\n      [name]: false\n    }));\n    let finalValue = localInputs[name];\n\n    // Process and validate the value\n    if (typeof finalValue === 'string') {\n      const rawValue = finalValue.toString().replace(/,/g, '');\n      if (rawValue === '') {\n        finalValue = '';\n      } else {\n        const numValue = parseFloat(rawValue);\n        if (!isNaN(numValue)) {\n          if (min !== undefined) finalValue = Math.max(min, numValue);\n          if (max !== undefined) finalValue = Math.min(max, numValue);\n        } else {\n          // If not a valid number, revert to previous input value\n          finalValue = inputs[name];\n        }\n      }\n    }\n\n    // Only update parent if value has changed\n    if (finalValue !== inputs[name]) {\n      onInputChange(name, finalValue);\n    }\n  };\n\n  // Handle stepper button clicks (+/-)\n  const handleStepperClick = (name, step, min, max) => {\n    const currentValue = parseFloat(inputs[name]) || 0;\n    let newValue = currentValue + step;\n    if (min !== undefined) newValue = Math.max(min, newValue);\n    if (max !== undefined) newValue = Math.min(max, newValue);\n\n    // Update directly through parent since this is a button click\n    onInputChange(name, newValue);\n  };\n  const startEditingDimension = (name, currentValue) => {\n    setEditingDimension(name);\n    setTempDimensionValue(currentValue.toString());\n  };\n  const handleDimensionChange = e => {\n    setTempDimensionValue(e.target.value);\n  };\n  const finishEditingDimension = (name, min, max) => {\n    const value = parseInt(tempDimensionValue, 10);\n    if (!isNaN(value) && value >= min && value <= max) {\n      onInputChange(name, value);\n    } else {\n      // Revert to original value if input is invalid\n      setTempDimensionValue(inputs[name].toString());\n    }\n    setEditingDimension(null);\n  };\n  const handleDimensionKeyDown = (e, name, min, max) => {\n    if (e.key === 'Enter') {\n      finishEditingDimension(name, min, max);\n      e.target.blur();\n    } else if (e.key === 'Escape') {\n      setTempDimensionValue(inputs[name].toString()); // Revert on escape\n      setEditingDimension(null);\n      e.target.blur();\n    }\n  };\n\n  // Common StepperInput used for all numeric inputs to ensure consistency\n  const StepperInput = ({\n    label,\n    name,\n    min,\n    max,\n    helperText,\n    step = 1\n  }) => {\n    // Use local value while editing, or parent value when not editing\n    const displayValue = isEditing[name] ? localInputs[name] : inputs[name] === '' ? '' : Number(inputs[name]).toLocaleString(language === 'ja' ? 'ja-JP' : 'en-US');\n    return /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        mb: 3\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"subtitle2\",\n        gutterBottom: true,\n        sx: {\n          fontWeight: 500,\n          color: 'text.secondary',\n          mb: 1\n        },\n        children: label\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'space-between',\n          width: '100%',\n          gap: '10px' // Consistent spacing\n        },\n        children: [/*#__PURE__*/_jsxDEV(NumberButton, {\n          onClick: () => handleStepperClick(name, -step, min, max),\n          children: \"\\uFF0D\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(NumberInput, {\n          inputRef: el => inputRefs.current[name] = el,\n          value: displayValue,\n          onChange: e => handleLocalInputChange(name, e.target.value),\n          onFocus: () => handleInputFocus(name),\n          onBlur: () => handleInputBlur(name, min, max),\n          variant: \"outlined\",\n          size: \"medium\",\n          inputProps: {\n            style: {\n              textAlign: 'center',\n              fontWeight: '500'\n            }\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(NumberButton, {\n          onClick: () => handleStepperClick(name, step, min, max),\n          children: \"\\uFF0B\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 9\n      }, this), helperText && /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"caption\",\n        color: \"text.secondary\",\n        sx: {\n          mt: 0.5,\n          display: 'block'\n        },\n        children: helperText\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 7\n    }, this);\n  };\n\n  // Dimension input component\n  const DimensionInput = ({\n    label,\n    value,\n    name,\n    min,\n    max,\n    helperText,\n    step = 5\n  }) => /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"subtitle2\",\n      gutterBottom: true,\n      sx: {\n        fontWeight: 500,\n        color: 'text.secondary',\n        mb: 1\n      },\n      children: [label, \" (mm)\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        alignItems: 'center',\n        mb: 1,\n        gap: '10px' // Consistent spacing\n      },\n      children: [/*#__PURE__*/_jsxDEV(NumberButton, {\n        onClick: () => handleStepperClick(name, -step, min, max),\n        children: \"\\uFF0D\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 9\n      }, this), editingDimension === name ? /*#__PURE__*/_jsxDEV(NumberInput, {\n        autoFocus: true,\n        value: tempDimensionValue,\n        onChange: handleDimensionChange,\n        onBlur: () => finishEditingDimension(name, min, max),\n        onKeyDown: e => handleDimensionKeyDown(e, name, min, max),\n        variant: \"outlined\",\n        size: \"small\",\n        type: \"number\",\n        inputProps: {\n          min,\n          max,\n          style: {\n            textAlign: 'center'\n          }\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 381,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(Box, {\n        onClick: () => startEditingDimension(name, value),\n        sx: {\n          flexGrow: 1,\n          textAlign: 'center',\n          fontSize: '1rem',\n          fontWeight: 500,\n          cursor: 'text',\n          padding: '10px 0',\n          borderRadius: '8px',\n          border: '1px solid rgba(0, 0, 0, 0.2)',\n          backgroundColor: '#fff',\n          transition: 'all 0.2s ease',\n          '&:hover': {\n            backgroundColor: 'rgba(0, 0, 0, 0.02)'\n          }\n        },\n        children: value\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 397,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(NumberButton, {\n        onClick: () => handleStepperClick(name, step, min, max),\n        children: \"\\uFF0B\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 418,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 369,\n      columnNumber: 7\n    }, this), helperText && /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"caption\",\n      color: \"text.secondary\",\n      children: helperText\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 425,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 365,\n    columnNumber: 5\n  }, this);\n  return /*#__PURE__*/_jsxDEV(Box, {\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        mb: 3.5\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h5\",\n        gutterBottom: true,\n        sx: {\n          fontWeight: 600,\n          mt: 1,\n          color: 'text.primary',\n          fontSize: isMobile ? '1.25rem' : '1.5rem'\n        },\n        children: t('simulationParameters')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 435,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n        title: t('printerSpecifications'),\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          component: \"span\",\n          onClick: handleInfoClick,\n          sx: {\n            cursor: 'pointer',\n            color: 'text.secondary',\n            transition: 'all 0.2s',\n            '&:hover': {\n              color: 'primary.main'\n            },\n            display: 'flex',\n            alignItems: 'center'\n          },\n          children: /*#__PURE__*/_jsxDEV(InfoIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 458,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 444,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 443,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(PrinterInfoPopover, {\n        open: infoPopoverOpen,\n        anchorEl: infoAnchorEl,\n        handleClose: handleInfoClose,\n        initialInvestment: inputs.initialInvestment // Pass current initialInvestment\n        ,\n        onInitialInvestmentChange: handleInitialInvestmentChange // Pass handler\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 461,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 434,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Fade, {\n      in: true,\n      timeout: 500,\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        sx: {\n          mb: 3,\n          overflow: 'visible',\n          borderRadius: 3,\n          boxShadow: '0 2px 6px rgba(0, 0, 0, 0.08)',\n          transition: 'transform 0.3s ease, boxShadow 0.3s ease',\n          '&:hover': {\n            transform: 'translateY(-2px)',\n            boxShadow: '0 4px 12px rgba(0, 0, 0, 0.1)'\n          }\n        },\n        children: /*#__PURE__*/_jsxDEV(CardContent, {\n          sx: {\n            px: {\n              xs: 2,\n              sm: 3\n            },\n            py: 2.5\n          },\n          children: [/*#__PURE__*/_jsxDEV(SectionHeader, {\n            icon: /*#__PURE__*/_jsxDEV(DimensionsIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 485,\n              columnNumber: 34\n            }, this),\n            title: t('productDimensions')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 485,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            spacing: 2,\n            children: [/*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              sm: 6,\n              children: /*#__PURE__*/_jsxDEV(DimensionInput, {\n                label: t('shortEdge'),\n                value: inputs.shortEdge,\n                name: \"shortEdge\",\n                min: 10,\n                max: 305,\n                helperText: `${t('range')}: 10-305mm`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 488,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 487,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              sm: 6,\n              children: /*#__PURE__*/_jsxDEV(DimensionInput, {\n                label: t('longEdge'),\n                value: inputs.longEdge,\n                name: \"longEdge\",\n                min: 10,\n                max: 458,\n                helperText: `${t('range')}: 10-458mm`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 498,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 497,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 486,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 484,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 471,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 470,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Fade, {\n      in: true,\n      timeout: 600,\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        sx: {\n          mb: 3,\n          overflow: 'visible',\n          borderRadius: 3,\n          boxShadow: '0 2px 6px rgba(0, 0, 0, 0.08)',\n          transition: 'transform 0.3s ease, boxShadow 0.3s ease',\n          '&:hover': {\n            transform: 'translateY(-2px)',\n            boxShadow: '0 4px 12px rgba(0, 0, 0, 0.1)'\n          }\n        },\n        children: /*#__PURE__*/_jsxDEV(CardContent, {\n          sx: {\n            px: {\n              xs: 2,\n              sm: 3\n            },\n            py: 2.5\n          },\n          children: [/*#__PURE__*/_jsxDEV(SectionHeader, {\n            icon: /*#__PURE__*/_jsxDEV(VolumeIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 527,\n              columnNumber: 34\n            }, this),\n            title: t('monthlySalesTarget')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 527,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              px: {\n                xs: 0,\n                sm: 2\n              },\n              mt: 2\n            },\n            children: [/*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                mb: 3\n              },\n              children: [/*#__PURE__*/_jsxDEV(VisibleSlider, {\n                value: typeof inputs.monthlySalesVolume === 'number' ? inputs.monthlySalesVolume : 0,\n                onChange: (_, value) => onInputChange('monthlySalesVolume', value),\n                min: 0,\n                max: 1000,\n                step: 10,\n                valueLabelDisplay: \"auto\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 530,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  mt: 2,\n                  display: 'flex',\n                  justifyContent: 'center'\n                },\n                children: /*#__PURE__*/_jsxDEV(NumberInput, {\n                  inputRef: el => inputRefs.current['monthlySalesVolume'] = el,\n                  value: isEditing['monthlySalesVolume'] ? localInputs['monthlySalesVolume'] : inputs.monthlySalesVolume,\n                  onChange: e => handleLocalInputChange('monthlySalesVolume', e.target.value),\n                  onFocus: () => handleInputFocus('monthlySalesVolume'),\n                  onBlur: () => handleInputBlur('monthlySalesVolume', 0, 1000),\n                  variant: \"outlined\",\n                  size: \"medium\",\n                  sx: {\n                    width: '100%',\n                    maxWidth: '300px'\n                  },\n                  inputProps: {\n                    style: {\n                      textAlign: 'center',\n                      fontWeight: '500'\n                    }\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 539,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 538,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 529,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              color: \"text.secondary\",\n              sx: {\n                mt: 1,\n                textAlign: 'center',\n                fontWeight: 500,\n                mb: 2\n              },\n              children: [t('unitsPerMonth'), \" (0-1000)\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 556,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              container: true,\n              spacing: 3,\n              children: /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                children: /*#__PURE__*/_jsxDEV(StepperInput, {\n                  label: `${t('salesPricePerUnit')} (${t('currency')})`,\n                  name: \"salesPricePerUnit\",\n                  min: 0,\n                  step: 50\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 561,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 560,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 559,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 528,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 526,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 513,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 512,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Fade, {\n      in: true,\n      timeout: 700,\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        sx: {\n          mb: 3,\n          overflow: 'visible',\n          borderRadius: 3,\n          boxShadow: '0 2px 6px rgba(0, 0, 0, 0.08)',\n          transition: 'transform 0.3s ease, boxShadow 0.3s ease',\n          '&:hover': {\n            transform: 'translateY(-2px)',\n            boxShadow: '0 4px 12px rgba(0, 0, 0, 0.1)'\n          }\n        },\n        children: /*#__PURE__*/_jsxDEV(CardContent, {\n          sx: {\n            px: {\n              xs: 2,\n              sm: 3\n            },\n            py: 2.5\n          },\n          children: [/*#__PURE__*/_jsxDEV(SectionHeader, {\n            icon: /*#__PURE__*/_jsxDEV(PriceIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 589,\n              columnNumber: 34\n            }, this),\n            title: t('priceParameters')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 589,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            spacing: 2,\n            children: [/*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              children: /*#__PURE__*/_jsxDEV(StepperInput, {\n                label: `${t('materialCostPerUnit')} (${t('currency')})`,\n                name: \"materialCostPerUnit\",\n                min: 0,\n                step: 10\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 592,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 591,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              children: /*#__PURE__*/_jsxDEV(StepperInput, {\n                label: `${t('laborCostPerHour')} (${t('currency')})`,\n                name: \"laborCostPerHour\",\n                min: 0,\n                step: 100\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 600,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 599,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              children: /*#__PURE__*/_jsxDEV(StepperInput, {\n                label: `${t('inkPrice')} (${t('currency')}/${t('cc')})`,\n                name: \"inkPricePerCC\",\n                min: 0,\n                step: 1\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 608,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 607,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 590,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 588,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 575,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 574,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 433,\n    columnNumber: 5\n  }, this);\n};\n\n// Helper component for section headers\n_s(SimulationForm, \"Isp8xNrXkLYAcGuJs0v66tbOCdQ=\", false, function () {\n  return [useTheme, useLanguage, useMediaQuery, useMediaQuery];\n});\n_c8 = SimulationForm;\nconst SectionHeader = ({\n  icon,\n  title\n}) => /*#__PURE__*/_jsxDEV(Box, {\n  sx: {\n    display: 'flex',\n    alignItems: 'center',\n    mb: 2.5\n  },\n  children: [/*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      mr: 1.5,\n      color: 'primary.main',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center'\n    },\n    children: icon\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 626,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(Typography, {\n    variant: \"h6\",\n    fontWeight: \"600\",\n    color: \"text.primary\",\n    sx: {\n      fontSize: {\n        xs: '1.1rem',\n        md: '1.25rem'\n      }\n    },\n    children: title\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 635,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 625,\n  columnNumber: 3\n}, this);\n_c9 = SectionHeader;\nexport default SimulationForm;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9;\n$RefreshReg$(_c, \"DimensionsIcon\");\n$RefreshReg$(_c2, \"PriceIcon\");\n$RefreshReg$(_c3, \"VolumeIcon\");\n$RefreshReg$(_c4, \"InfoIcon\");\n$RefreshReg$(_c5, \"NumberButton\");\n$RefreshReg$(_c6, \"NumberInput\");\n$RefreshReg$(_c7, \"VisibleSlider\");\n$RefreshReg$(_c8, \"SimulationForm\");\n$RefreshReg$(_c9, \"SectionHeader\");","map":{"version":3,"names":["React","useState","useEffect","useRef","Box","Typography","TextField","Slider","Grid","InputAdornment","Card","CardContent","Tooltip","Button","Fade","useMediaQuery","styled","useTheme","useLanguage","PrinterInfoPopover","jsxDEV","_jsxDEV","DimensionsIcon","width","height","viewBox","fill","xmlns","children","d","stroke","strokeWidth","strokeLinecap","strokeLinejoin","fileName","_jsxFileName","lineNumber","columnNumber","_c","PriceIcon","cx","cy","r","_c2","VolumeIcon","_c3","InfoIcon","_c4","NumberButton","theme","minWidth","padding","borderRadius","fontSize","fontWeight","color","border","backgroundColor","_c5","NumberInput","flex","textAlign","borderColor","borderWidth","WebkitAppearance","margin","MozAppearance","_c6","VisibleSlider","boxShadow","_c7","SimulationForm","inputs","onInputChange","_s","t","language","isMobile","breakpoints","down","isExtraSmallMobile","localInputs","setLocalInputs","isEditing","setIsEditing","inputRefs","Object","keys","forEach","key","prev","infoAnchorEl","setInfoAnchorEl","infoPopoverOpen","Boolean","editingDimension","setEditingDimension","tempDimensionValue","setTempDimensionValue","handleInfoClick","event","currentTarget","handleInfoClose","handleInitialInvestmentChange","value","handleLocalInputChange","name","handleInputFocus","undefined","current","setTimeout","select","handleInputBlur","min","max","finalValue","rawValue","toString","replace","numValue","parseFloat","isNaN","Math","handleStepperClick","step","currentValue","newValue","startEditingDimension","handleDimensionChange","e","target","finishEditingDimension","parseInt","handleDimensionKeyDown","blur","StepperInput","label","helperText","displayValue","Number","toLocaleString","sx","mb","variant","gutterBottom","display","alignItems","justifyContent","gap","onClick","inputRef","el","onChange","onFocus","onBlur","size","inputProps","style","mt","DimensionInput","autoFocus","onKeyDown","type","flexGrow","cursor","transition","title","component","open","anchorEl","handleClose","initialInvestment","onInitialInvestmentChange","in","timeout","overflow","transform","px","xs","sm","py","SectionHeader","icon","container","spacing","item","shortEdge","longEdge","monthlySalesVolume","_","valueLabelDisplay","maxWidth","_c8","mr","md","_c9","$RefreshReg$"],"sources":["/Users/nicholasgobert/Desktop/Apps/MOSimulator/src/features/simulation/SimulationForm.js"],"sourcesContent":["// MO Simulator 2/src/features/simulation/SimulationForm.js\n// OR MO Simulator 2/src/components/InputPanel/InputPanel.js\n\nimport React, { useState, useEffect, useRef } from 'react';\nimport {\n  Box,\n  Typography,\n  TextField,\n  Slider,\n  Grid,\n  InputAdornment,\n  Card,\n  CardContent,\n  Tooltip,\n  Button,\n  Fade,\n  useMediaQuery,\n  styled\n} from '@mui/material';\nimport { useTheme } from '@mui/material/styles';\nimport { useLanguage } from '../../context/LanguageContext';\n// Correct the path based on your project structure\nimport PrinterInfoPopover from './components/PrinterInfoPopover';\n\n// Using SVG icons directly instead of emojis to match the design\nconst DimensionsIcon = () => (\n  <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M5 5L9 9\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M19 5L15 9\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M5 19L9 15\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M19 19L15 15\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M5 5L3 3\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M19 5L21 3\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M5 19L3 21\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M19 19L21 21\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n  </svg>\n);\n\nconst PriceIcon = () => (\n  <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <circle cx=\"12\" cy=\"12\" r=\"9\" stroke=\"currentColor\" strokeWidth=\"2\"/>\n    <path d=\"M12 7V17\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\"/>\n    <path d=\"M8 12H16\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\"/>\n  </svg>\n);\n\nconst VolumeIcon = () => (\n  <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M3 17H7V10H3V17Z\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M10 17H14V3H10V17Z\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M17 17H21V6H17V17Z\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M3 21H21\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\"/>\n  </svg>\n);\n\nconst InfoIcon = () => (\n  <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <circle cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"2\"/>\n    <path d=\"M12 16V12\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\"/>\n    <circle cx=\"12\" cy=\"8\" r=\"1\" fill=\"currentColor\"/>\n  </svg>\n);\n\n// Common button style to ensure consistency across all number controls\nconst NumberButton = styled(Button)(({ theme }) => ({\n  minWidth: '44px',\n  width: '44px',\n  height: '44px',\n  padding: 0,\n  borderRadius: '8px',\n  fontSize: '1.2rem',\n  fontWeight: '700',\n  color: '#666',\n  border: '1px solid rgba(0, 0, 0, 0.2)',\n  backgroundColor: '#f5f5f5',\n  '&:hover': {\n    backgroundColor: '#e0e0e0',\n  }\n}));\n\n// Common input style to ensure consistency across all number controls\nconst NumberInput = styled(TextField)(({ theme }) => ({\n  flex: '1',\n  '& .MuiInputBase-root': {\n    height: '44px',\n    backgroundColor: '#fff',\n  },\n  '& .MuiOutlinedInput-input': {\n    textAlign: 'center',\n    fontSize: '1rem',\n    fontWeight: '500',\n    padding: '8px',\n  },\n  '& .MuiOutlinedInput-notchedOutline': {\n    borderColor: 'rgba(0, 0, 0, 0.2)',\n    borderRadius: '8px',\n  },\n  '& .MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-notchedOutline': {\n    borderColor: '#2471CC',\n    borderWidth: '1px',\n  },\n  '& input::-webkit-inner-spin-button, & input::-webkit-outer-spin-button': {\n    WebkitAppearance: 'none',\n    margin: 0\n  },\n  '& input[type=number]': {\n    MozAppearance: 'textfield'\n  }\n}));\n\n// Custom slider with enhanced visibility\nconst VisibleSlider = styled(Slider)({\n  color: '#2471CC',\n  height: 8,\n  padding: '13px 0',\n  '& .MuiSlider-track': {\n    height: 8,\n    borderRadius: 4,\n    backgroundColor: '#2471CC',\n  },\n  '& .MuiSlider-rail': {\n    height: 8,\n    borderRadius: 4,\n    backgroundColor: '#d1d1d1',\n  },\n  '& .MuiSlider-thumb': {\n    height: 24,\n    width: 24,\n    backgroundColor: '#fff',\n    border: '2px solid #2471CC',\n    boxShadow: '0 2px 4px rgba(0,0,0,0.2)',\n    '&:focus, &:hover, &.Mui-active': {\n      boxShadow: '0 0 0 8px rgba(36, 113, 204, 0.2)',\n    },\n  },\n});\n\n/**\n * SimulationForm Component / InputPanel Component\n * Handles user inputs for the simulation with enhanced styling and improved aesthetics\n */\nconst SimulationForm = ({ inputs, onInputChange }) => { // Or InputPanel\n  const theme = useTheme();\n  const { t, language } = useLanguage(); // Now we get language from useLanguage\n  const isMobile = useMediaQuery(theme.breakpoints.down('sm')); // For responsive styling\n  const isExtraSmallMobile = useMediaQuery('(max-width:380px)');\n\n  // Local state for input values during editing\n  const [localInputs, setLocalInputs] = useState({});\n  const [isEditing, setIsEditing] = useState({});\n  const inputRefs = useRef({});\n\n  useEffect(() => {\n    // Initialize local inputs with parent values when they change\n    // Only update if not actively editing to preserve focus\n    Object.keys(inputs).forEach(key => {\n      if (!isEditing[key]) {\n        setLocalInputs(prev => ({\n          ...prev,\n          [key]: inputs[key]\n        }));\n      }\n    });\n  }, [inputs, isEditing]);\n\n  const [infoAnchorEl, setInfoAnchorEl] = useState(null);\n  const infoPopoverOpen = Boolean(infoAnchorEl);\n\n  const [editingDimension, setEditingDimension] = useState(null);\n  const [tempDimensionValue, setTempDimensionValue] = useState(\"\");\n\n  const handleInfoClick = (event) => {\n    setInfoAnchorEl(event.currentTarget);\n  };\n\n  const handleInfoClose = () => {\n    setInfoAnchorEl(null);\n  };\n\n  // This function will be passed to PrinterInfoPopover\n  // It calls the onInputChange from props, which ultimately updates the useSimulation hook\n  const handleInitialInvestmentChange = (value) => {\n    onInputChange('initialInvestment', value);\n  };\n\n  // Handle local input changes without triggering parent updates immediately\n  const handleLocalInputChange = (name, value) => {\n    setLocalInputs(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n\n  // Start editing a numeric input\n  const handleInputFocus = (name) => {\n    setIsEditing(prev => ({\n      ...prev,\n      [name]: true\n    }));\n\n    // Set initial local value if not set\n    if (localInputs[name] === undefined) {\n      setLocalInputs(prev => ({\n        ...prev, \n        [name]: inputs[name]\n      }));\n    }\n    \n    // Select all text on focus for easy editing\n    if (inputRefs.current[name]) {\n      setTimeout(() => {\n        inputRefs.current[name].select();\n      }, 10);\n    }\n  };\n\n  // Commit changes to parent when done editing\n  const handleInputBlur = (name, min, max) => {\n    setIsEditing(prev => ({\n      ...prev,\n      [name]: false\n    }));\n\n    let finalValue = localInputs[name];\n    \n    // Process and validate the value\n    if (typeof finalValue === 'string') {\n      const rawValue = finalValue.toString().replace(/,/g, '');\n      \n      if (rawValue === '') {\n        finalValue = '';\n      } else {\n        const numValue = parseFloat(rawValue);\n        if (!isNaN(numValue)) {\n          if (min !== undefined) finalValue = Math.max(min, numValue);\n          if (max !== undefined) finalValue = Math.min(max, numValue);\n        } else {\n          // If not a valid number, revert to previous input value\n          finalValue = inputs[name];\n        }\n      }\n    }\n    \n    // Only update parent if value has changed\n    if (finalValue !== inputs[name]) {\n      onInputChange(name, finalValue);\n    }\n  };\n\n  // Handle stepper button clicks (+/-)\n  const handleStepperClick = (name, step, min, max) => {\n    const currentValue = parseFloat(inputs[name]) || 0;\n    let newValue = currentValue + step;\n\n    if (min !== undefined) newValue = Math.max(min, newValue);\n    if (max !== undefined) newValue = Math.min(max, newValue);\n\n    // Update directly through parent since this is a button click\n    onInputChange(name, newValue);\n  };\n\n  const startEditingDimension = (name, currentValue) => {\n    setEditingDimension(name);\n    setTempDimensionValue(currentValue.toString());\n  };\n\n  const handleDimensionChange = (e) => {\n    setTempDimensionValue(e.target.value);\n  };\n\n  const finishEditingDimension = (name, min, max) => {\n    const value = parseInt(tempDimensionValue, 10);\n    if (!isNaN(value) && value >= min && value <= max) {\n      onInputChange(name, value);\n    } else {\n      // Revert to original value if input is invalid\n      setTempDimensionValue(inputs[name].toString());\n    }\n    setEditingDimension(null);\n  };\n\n  const handleDimensionKeyDown = (e, name, min, max) => {\n    if (e.key === 'Enter') {\n      finishEditingDimension(name, min, max);\n      e.target.blur();\n    } else if (e.key === 'Escape') {\n      setTempDimensionValue(inputs[name].toString()); // Revert on escape\n      setEditingDimension(null);\n      e.target.blur();\n    }\n  };\n\n  // Common StepperInput used for all numeric inputs to ensure consistency\n  const StepperInput = ({\n    label,\n    name,\n    min,\n    max,\n    helperText,\n    step = 1\n  }) => {\n    // Use local value while editing, or parent value when not editing\n    const displayValue = isEditing[name] \n      ? localInputs[name] \n      : inputs[name] === '' \n        ? '' \n        : Number(inputs[name]).toLocaleString(language === 'ja' ? 'ja-JP' : 'en-US');\n    \n    return (\n      <Box sx={{ mb: 3 }}>\n        <Typography variant=\"subtitle2\" gutterBottom sx={{ fontWeight: 500, color: 'text.secondary', mb: 1 }}>\n          {label}\n        </Typography>\n        <Box sx={{ \n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'space-between',\n          width: '100%',\n          gap: '10px' // Consistent spacing\n        }}>\n          <NumberButton \n            onClick={() => handleStepperClick(name, -step, min, max)}\n          >\n            Ôºç\n          </NumberButton>\n          \n          <NumberInput\n            inputRef={el => inputRefs.current[name] = el}\n            value={displayValue}\n            onChange={(e) => handleLocalInputChange(name, e.target.value)}\n            onFocus={() => handleInputFocus(name)}\n            onBlur={() => handleInputBlur(name, min, max)}\n            variant=\"outlined\"\n            size=\"medium\"\n            inputProps={{\n              style: { textAlign: 'center', fontWeight: '500' }\n            }}\n          />\n          \n          <NumberButton \n            onClick={() => handleStepperClick(name, step, min, max)}\n          >\n            Ôºã\n          </NumberButton>\n        </Box>\n        {helperText && (\n          <Typography variant=\"caption\" color=\"text.secondary\" sx={{ mt: 0.5, display: 'block' }}>\n            {helperText}\n          </Typography>\n        )}\n      </Box>\n    );\n  };\n\n  // Dimension input component\n  const DimensionInput = ({\n    label,\n    value,\n    name,\n    min,\n    max,\n    helperText,\n    step = 5\n  }) => (\n    <div>\n      <Typography variant=\"subtitle2\" gutterBottom sx={{ fontWeight: 500, color: 'text.secondary', mb: 1 }}>\n        {label} (mm)\n      </Typography>\n      <Box sx={{ \n        display: 'flex', \n        alignItems: 'center', \n        mb: 1,\n        gap: '10px' // Consistent spacing\n      }}>\n        <NumberButton\n          onClick={() => handleStepperClick(name, -step, min, max)}\n        >\n          Ôºç\n        </NumberButton>\n        {editingDimension === name ? (\n          <NumberInput\n            autoFocus\n            value={tempDimensionValue}\n            onChange={handleDimensionChange}\n            onBlur={() => finishEditingDimension(name, min, max)}\n            onKeyDown={(e) => handleDimensionKeyDown(e, name, min, max)}\n            variant=\"outlined\"\n            size=\"small\"\n            type=\"number\"\n            inputProps={{\n              min,\n              max,\n              style: { textAlign: 'center' }\n            }}\n          />\n        ) : (\n          <Box\n            onClick={() => startEditingDimension(name, value)}\n            sx={{\n              flexGrow: 1,\n              textAlign: 'center',\n              fontSize: '1rem',\n              fontWeight: 500,\n              cursor: 'text',\n              padding: '10px 0',\n              borderRadius: '8px',\n              border: '1px solid rgba(0, 0, 0, 0.2)',\n              backgroundColor: '#fff',\n              transition: 'all 0.2s ease',\n              '&:hover': {\n                backgroundColor: 'rgba(0, 0, 0, 0.02)'\n              }\n            }}\n          >\n            {value}\n          </Box>\n        )}\n        <NumberButton\n          onClick={() => handleStepperClick(name, step, min, max)}\n        >\n          Ôºã\n        </NumberButton>\n      </Box>\n      {helperText && (\n        <Typography variant=\"caption\" color=\"text.secondary\">\n          {helperText}\n        </Typography>\n      )}\n    </div>\n  );\n\n  return (\n    <Box>\n      <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 3.5 }}>\n        <Typography variant=\"h5\" gutterBottom sx={{\n          fontWeight: 600,\n          mt: 1,\n          color: 'text.primary',\n          fontSize: isMobile ? '1.25rem' : '1.5rem'\n        }}>\n          {t('simulationParameters')}\n        </Typography>\n        <Tooltip title={t('printerSpecifications')}>\n          <Box\n            component=\"span\"\n            onClick={handleInfoClick}\n            sx={{\n              cursor: 'pointer',\n              color: 'text.secondary',\n              transition: 'all 0.2s',\n              '&:hover': {\n                color: 'primary.main',\n              },\n              display: 'flex',\n              alignItems: 'center'\n            }}\n          >\n            <InfoIcon />\n          </Box>\n        </Tooltip>\n        <PrinterInfoPopover\n          open={infoPopoverOpen}\n          anchorEl={infoAnchorEl}\n          handleClose={handleInfoClose}\n          initialInvestment={inputs.initialInvestment} // Pass current initialInvestment\n          onInitialInvestmentChange={handleInitialInvestmentChange} // Pass handler\n        />\n      </Box>\n\n      <Fade in={true} timeout={500}>\n        <Card\n          sx={{\n            mb: 3,\n            overflow: 'visible',\n            borderRadius: 3,\n            boxShadow: '0 2px 6px rgba(0, 0, 0, 0.08)',\n            transition: 'transform 0.3s ease, boxShadow 0.3s ease',\n            '&:hover': {\n              transform: 'translateY(-2px)',\n              boxShadow: '0 4px 12px rgba(0, 0, 0, 0.1)'\n            }\n          }}\n        >\n          <CardContent sx={{ px: { xs: 2, sm: 3 }, py: 2.5 }}>\n            <SectionHeader icon={<DimensionsIcon />} title={t('productDimensions')} />\n            <Grid container spacing={2}>\n              <Grid item xs={12} sm={6}>\n                <DimensionInput\n                  label={t('shortEdge')}\n                  value={inputs.shortEdge}\n                  name=\"shortEdge\"\n                  min={10}\n                  max={305}\n                  helperText={`${t('range')}: 10-305mm`}\n                />\n              </Grid>\n              <Grid item xs={12} sm={6}>\n                <DimensionInput\n                  label={t('longEdge')}\n                  value={inputs.longEdge}\n                  name=\"longEdge\"\n                  min={10}\n                  max={458}\n                  helperText={`${t('range')}: 10-458mm`}\n                />\n              </Grid>\n            </Grid>\n          </CardContent>\n        </Card>\n      </Fade>\n\n      <Fade in={true} timeout={600}>\n        <Card\n          sx={{\n            mb: 3,\n            overflow: 'visible',\n            borderRadius: 3,\n            boxShadow: '0 2px 6px rgba(0, 0, 0, 0.08)',\n            transition: 'transform 0.3s ease, boxShadow 0.3s ease',\n            '&:hover': {\n              transform: 'translateY(-2px)',\n              boxShadow: '0 4px 12px rgba(0, 0, 0, 0.1)'\n            }\n          }}\n        >\n          <CardContent sx={{ px: { xs: 2, sm: 3 }, py: 2.5 }}>\n            <SectionHeader icon={<VolumeIcon />} title={t('monthlySalesTarget')} />\n            <Box sx={{ px: { xs: 0, sm: 2 }, mt: 2 }}>\n              <Box sx={{ mb: 3 }}>\n                <VisibleSlider\n                  value={typeof inputs.monthlySalesVolume === 'number' ? inputs.monthlySalesVolume : 0}\n                  onChange={(_, value) => onInputChange('monthlySalesVolume', value)}\n                  min={0}\n                  max={1000}\n                  step={10}\n                  valueLabelDisplay=\"auto\"\n                />\n                <Box sx={{ mt: 2, display: 'flex', justifyContent: 'center' }}>\n                  <NumberInput\n                    inputRef={el => inputRefs.current['monthlySalesVolume'] = el}\n                    value={isEditing['monthlySalesVolume'] \n                      ? localInputs['monthlySalesVolume'] \n                      : inputs.monthlySalesVolume}\n                    onChange={(e) => handleLocalInputChange('monthlySalesVolume', e.target.value)}\n                    onFocus={() => handleInputFocus('monthlySalesVolume')}\n                    onBlur={() => handleInputBlur('monthlySalesVolume', 0, 1000)}\n                    variant=\"outlined\"\n                    size=\"medium\"\n                    sx={{ width: '100%', maxWidth: '300px' }}\n                    inputProps={{\n                      style: { textAlign: 'center', fontWeight: '500' }\n                    }}\n                  />\n                </Box>\n              </Box>\n              <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mt: 1, textAlign: 'center', fontWeight: 500, mb: 2 }}>\n                {t('unitsPerMonth')} (0-1000)\n              </Typography>\n              <Grid container spacing={3}>\n                <Grid item xs={12}>\n                  <StepperInput\n                    label={`${t('salesPricePerUnit')} (${t('currency')})`}\n                    name=\"salesPricePerUnit\"\n                    min={0}\n                    step={50}\n                  />\n                </Grid>\n              </Grid>\n            </Box>\n          </CardContent>\n        </Card>\n      </Fade>\n\n      <Fade in={true} timeout={700}>\n        <Card\n          sx={{\n            mb: 3,\n            overflow: 'visible',\n            borderRadius: 3,\n            boxShadow: '0 2px 6px rgba(0, 0, 0, 0.08)',\n            transition: 'transform 0.3s ease, boxShadow 0.3s ease',\n            '&:hover': {\n              transform: 'translateY(-2px)',\n              boxShadow: '0 4px 12px rgba(0, 0, 0, 0.1)'\n            }\n          }}\n        >\n          <CardContent sx={{ px: { xs: 2, sm: 3 }, py: 2.5 }}>\n            <SectionHeader icon={<PriceIcon />} title={t('priceParameters')} />\n            <Grid container spacing={2}>\n              <Grid item xs={12}>\n                <StepperInput\n                  label={`${t('materialCostPerUnit')} (${t('currency')})`}\n                  name=\"materialCostPerUnit\"\n                  min={0}\n                  step={10}\n                />\n              </Grid>\n              <Grid item xs={12}>\n                <StepperInput\n                  label={`${t('laborCostPerHour')} (${t('currency')})`}\n                  name=\"laborCostPerHour\"\n                  min={0}\n                  step={100}\n                />\n              </Grid>\n              <Grid item xs={12}>\n                <StepperInput\n                  label={`${t('inkPrice')} (${t('currency')}/${t('cc')})`}\n                  name=\"inkPricePerCC\"\n                  min={0}\n                  step={1}\n                />\n              </Grid>\n            </Grid>\n          </CardContent>\n        </Card>\n      </Fade>\n    </Box>\n  );\n};\n\n// Helper component for section headers\nconst SectionHeader = ({ icon, title }) => (\n  <Box sx={{ display: 'flex', alignItems: 'center', mb: 2.5 }}>\n    <Box sx={{\n      mr: 1.5,\n      color: 'primary.main',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center'\n    }}>\n      {icon}\n    </Box>\n    <Typography variant=\"h6\" fontWeight=\"600\" color=\"text.primary\" sx={{ fontSize: { xs: '1.1rem', md: '1.25rem' } }}>\n      {title}\n    </Typography>\n  </Box>\n);\n\nexport default SimulationForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}